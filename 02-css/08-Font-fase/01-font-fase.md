# Детальний конспект: CSS @font-face

## Загальна інформація

- **Опис**: Правило `@font-face` у CSS дозволяє підключати власні шрифти до веб-сторінки, задаючи їх назву, джерело та характеристики. Це дає змогу використовувати нестандартні шрифти, які не встановлені на пристрої користувача.
- **Контекст**: Використовується для кастомізації типографіки в веб-дизайні, забезпечуючи унікальний вигляд тексту, наприклад, для брендингу чи стилізації. Шрифти завантажуються з файлів (локально чи з CDN).
- **Основні компоненти**:
  - **Синтаксис**:
    ```css
    @font-face {
      font-family: "CustomFontName";
      src: url("path/to/font.woff2") format("woff2");
    }
    ```
  - **Ключові дескриптори**:
    - `font-family`: Ім’я шрифту для використання в `font` чи `font-family`.
    - `src`: Шлях до файлу шрифту, може включати кілька форматів і `local()`.
    - `font-weight`: Товщина шрифту (наприклад, `400`, `700`, `bold`).
    - `font-style`: Стиль (наприклад, `normal`, `italic`, `oblique`).
    - `font-display`: Контролює відображення шрифту під час завантаження (`auto`, `swap`, `block`, `fallback`, `optional`).
    - `unicode-range`: Обмежує діапазон символів для шрифту (наприклад, `U+0000-00FF`).
  - **Формати шрифтів**:
    - `WOFF2`: Найсучасніший, компактний, широко підтримується.
    - `WOFF`: Старіший, але добре підтримується.
    - `TTF`/`OTF`: Традиційні формати, більші за розміром.
    - `EOT`: Для старих версій IE.
    - `SVG`: Рідко використовується, для старих Safari.
  - **Специфічність**: Не впливає на специфічність, це правило лише визначає шрифт.
- **Особливості**:
  - Дозволяє використовувати локальні шрифти через `local()` або завантажувати з сервера.
  - Потребує кількох форматів для кросбраузерності.
  - Впливає на продуктивність через розмір файлів, тому оптимізація важлива.
  - Підтримує змінні шрифти (variable fonts) для динамічних стилів.

## Приклади коду

### 1. Базове підключення шрифту

Підключення WOFF2 і WOFF.

```css
@font-face {
  font-family: "MyFont";
  src:
    url("myfont.woff2") format("woff2"),
    url("myfont.woff") format("woff");
}
body {
  font-family: "MyFont", sans-serif;
}
```

#### HTML:

```html
<p>Текст із кастомним шрифтом</p>
```

#### Результат:

Текст відображається шрифтом `MyFont`, з фолбеком на `sans-serif`.

### 2. Шрифт із різними товщинами

Підключення кількох варіантів.

```css
@font-face {
  font-family: "CustomFont";
  src: url("customfont-regular.woff2") format("woff2");
  font-weight: 400;
  font-style: normal;
}
@font-face {
  font-family: "CustomFont";
  src: url("customfont-bold.woff2") format("woff2");
  font-weight: 700;
  font-style: normal;
}
h1 {
  font-family: "CustomFont";
  font-weight: 700;
}
p {
  font-family: "CustomFont";
  font-weight: 400;
}
```

#### HTML:

```html
<h1>Заголовок</h1>
<p>Абзац</p>
```

#### Результат:

Заголовок жирний, абзац звичайний.

### 3. Використання `font-display`

Оптимізація завантаження.

```css
@font-face {
  font-family: "OpenFont";
  src: url("openfont.woff2") format("woff2");
  font-display: swap;
}
body {
  font-family: "OpenFont", Arial, sans-serif;
}
```

#### Результат:

Фолбек-шрифт відображається, доки `OpenFont` не завантажиться, потім шрифти змінюються.

### 4. Використання `local()` і `unicode-range`

Локальний шрифт із обмеженням символів.

```css
@font-face {
  font-family: "LocalFont";
  src:
    local("Times New Roman"),
    url("customfont.woff2") format("woff2");
  unicode-range: U+0020-007F;
}
p {
  font-family: "LocalFont", serif;
}
```

#### HTML:

```html
<p>Basic Latin text</p>
```

#### Результат:

Використовується локальний `Times New Roman`, якщо доступний, або завантажується `customfont` для латинських символів.

## Особливості для співбесід — Питання та відповіді

### Що таке `@font-face`?

- **Відповідь**: CSS-правило для підключення кастомних шрифтів із файлів або локальних джерел.
  ```css
  @font-face {
    font-family: "Font";
    src: url("font.woff2");
  }
  ```

### Які формати шрифтів підтримуються?

- **Відповідь**: `WOFF2`, `WOFF`, `TTF`, `OTF`, `EOT`, `SVG`. `WOFF2` — найоптимальніший.
  ```css
  src: url("font.woff2") format("woff2");
  ```

### Що робить `font-display: swap`?

- **Відповідь**: Показує фолбек-шрифт, доки кастомний не завантажиться, потім замінює.
  ```css
  font-display: swap;
  ```

### Як оптимізувати продуктивність `@font-face`?

- **Відповідь**: Використовуйте `WOFF2`, `font-display: swap`, обмежуйте `unicode-range`, стискайте файли.
  ```css
  unicode-range: U+0020-007F;
  ```

## Поради

- **Формати**: Завжди надавайте `WOFF2` і `WOFF` для кросбраузерності.
- **Оптимізація**:
  - Стискайте шрифти (наприклад, через FontSquirrel).
  - Використовуйте `font-display: swap` для уникнення FOUT (Flash of Unstyled Text).
  - Обмежуйте символи через `unicode-range` для зменшення розміру.
- **Доступність**: Завжди вказуйте фолбек-шрифти (`sans-serif`, `serif`).
- **Тестування**: Перевіряйте в Chrome, Firefox, Safari, Edge; використовуйте DevTools (Network вкладка).
- **Документація**: Звертайтеся до MDN для деталей і CSS-Tricks для практичних прикладів.
- **Ліцензії**: Переконайтеся, що шрифт має дозвіл для веб-використання (наприклад, Google Fonts).

## Додаткові деталі

- **Дескриптори**:
  - `font-stretch`: Для змінних шрифтів (наприклад, `condensed`).
  - `font-variation-settings`: Для тонкої настройки змінних шрифтів.
  - `local()`: Використовує встановлений шрифт, якщо доступний.
- **Сумісність**:
  - `WOFF2`: Chrome 36+, Firefox 39+, Safari 12+, Edge 14+.
  - `WOFF`: IE9+, усі сучасні браузери.
  - `EOT`: Тільки IE6–8.
  - `font-display`: Chrome 60+, Firefox 58+, Safari 11.1+.
- **Обмеження**:
  - Великі файли шрифтів уповільнюють завантаження.
  - Складна стилізація змінних шрифтів потребує сучасних браузерів.
- **Альтернативи**:
  - Google Fonts або Adobe Fonts для хостингу.
  - Системні шрифти (`system-ui`) для продуктивності.
  - CSS-препроцесори для організації шрифтів.
- **Продуктивність**:
  - Використовуйте `preload` для критичних шрифтів:
    ```html
    <link
      rel="preload"
      href="font.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    ```
  - Стискайте шрифти та кешуйте на сервері.
