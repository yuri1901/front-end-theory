# Детальний конспект: Lookahead і Lookbehind у регулярних виразах

## Загальна інформація

- **Опис**: Lookahead (`(?=...)`, `(?!...)`) і lookbehind (`(?<=...)`, `(?<!...)`) дозволяють зіставляти шаблони залежно від того, що йде перед або після, без включення цих умов у збіг.
- **Контекст**: Використовуються для складних умов пошуку, наприклад, валідація паролів або парсинг без захоплення умов.
- **Основні компоненти**:
  - **Позитивний lookahead**: `(?=...)` — зіставляє, якщо шаблон слідує.
  - **Негативний lookahead**: `(?!...)` — зіставляє, якщо шаблон не слідує.
  - **Позитивний lookbehind**: `(?<=...)` — зіставляє, якщо шаблон передує.
  - **Негативний lookbehind**: `(?<!...)` — зіставляє, якщо шаблон не передує.
- **Особливості**:
  - Lookbehind підтримується з ES2018.
  - Не включають умову в результат збігу.

## Приклади коду

### 1. Позитивний lookahead

Пошук цифр, за якими йде "px".

```javascript
const str = "10px 20em";
const regex = /\d+(?=px)/g;
console.log(str.match(regex)); // ["10"]
```

### 2. Негативний lookahead

Пошук цифр, за якими НЕ йде "px".

```javascript
const str = "10px 20em";
const regex = /\d+(?!px)/g;
console.log(str.match(regex)); // ["20"]
```

### 3. Позитивний lookbehind

Пошук цифр, яким передує "$".

```javascript
const str = "$100 €200";
const regex = /(?<=\$)\d+/g;
console.log(str.match(regex)); // ["100"]
```

### 4. Негативний lookbehind

Пошук цифр, яким НЕ передує "$".

```javascript
const str = "$100 €200";
const regex = /(?<!\$)\d+/g;
console.log(str.match(regex)); // ["200"]
```

## Особливості для співбесід — Питання та відповіді

### Що таке lookahead у регулярних виразах?

- **Відповідь**: Умова, що перевіряє, чи слідує шаблон, без включення його в збіг.
  ```javascript
  console.log("10px".match(/\d+(?=px)/)); // ["10"]
  ```

### Чим відрізняються позитивний і негативний lookahead?

- **Відповідь**: Позитивний `(?=...)` вимагає наявності шаблону, негативний `(?!...)` — його відсутності.
  ```javascript
  console.log("10em".match(/\d+(?!px)/)); // ["10"]
  ```

### Що таке lookbehind?

- **Відповідь**: Умова, що перевіряє, чи передує шаблон, без включення в збіг.
  ```javascript
  console.log("$100".match(/(?<=\$)\d+/)); // ["100"]
  ```

### Які обмеження lookbehind?

- **Відповідь**: Підтримується з ES2018, не працює в старих браузерах.
  ```javascript
  console.log("€200".match(/(?<!\$)\d+/)); // ["200"]
  ```

## Поради

- **Сумісність**: Перевіряйте підтримку lookbehind у цільових браузерах.
- **Тестування**: Використовуйте regex101.com для перевірки lookahead/lookbehind.
- **Продуктивність**: Уникайте складних умов для великих текстів.
- **Простота**: Поєднуйте з групами для чіткості.

## Додаткові деталі

- **Типи**:
  - Позитивний lookahead: `(?=...)`.
  - Негативний lookahead: `(?!...)`.
  - Позитивний lookbehind: `(?<=...)`.
  - Негативний lookbehind: `(?<!...)`.
- **Сумісність**: Lookbehind — Chrome 62+, Firefox 78+, Safari 16.4+.
- **Обмеження**: Lookbehind не підтримує змінну довжину в деяких браузерах.