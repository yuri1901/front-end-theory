# Детальний конспект: Багаторядковий режим у регулярних виразах

## Загальна інформація

- **Опис**: Багаторядковий режим у регулярних виразах активується флагом `m`, дозволяючи якорям `^` і `$` зіставляти початок і кінець кожного рядка в строці, а не лише всієї строки.
- **Контекст**: Використовується для обробки текстів із переносами рядків, наприклад, при парсингу логів, валідації або пошуку в багаторядкових текстах.
- **Основні компоненти**:
  - **Флаг `m`**: Вмикає багаторядковий режим.
  - **Якорі**: `^` (початок рядка), `$` (кінець рядка).
- **Особливості**:
  - Без флага `m` `^` і `$` зіставляють початок і кінець усієї строки.
  - Флаг `m` впливає лише на якорі `^` і `$`, не змінюючи інші аспекти регулярного виразу.

## Приклади коду

### 1. Зіставлення початку кожного рядка

Пошук рядків, що починаються з "line".

```javascript
const str = "line1\nline2\nstart";
const regex = /^line/m;
console.log(str.match(regex)); // ["line", "line"]
```

### 2. Зіставлення кінця кожного рядка

Пошук рядків, що закінчуються цифрою.

```javascript
const str = "row1\nrow2\nrow";
const regex = /\d$/m;
console.log(str.match(regex)); // ["1", "2"]
```

### 3. Поєднання `^` і `$`

Пошук цілих рядків, що містять лише цифри.

```javascript
const str = "123\nabc\n456";
const regex = /^\d+$/m;
console.log(str.match(regex)); // ["123", "456"]
```

### 4. Без флага `m`

Порівняння поведінки без багаторядкового режиму.

```javascript
const str = "line1\nline2";
const regex = /^line/;
console.log(str.match(regex)); // ["line"]
```

## Особливості для співбесід — Питання та відповіді

### Що робить флаг `m` у регулярних виразах?

- **Відповідь**: Вмикає багаторядковий режим, дозволяючи `^` і `$` зіставляти початок і кінець кожного рядка.
  ```javascript
  console.log("a\nb".match(/^./m)); // ["a", "b"]
  ```

### Як `^` і `$` поводяться без флага `m`?

- **Відповідь**: Зіставляють початок і кінець усієї строки, а не окремих рядків.
  ```javascript
  console.log("a\nb".match(/^./)); // ["a"]
  ```

### Чи впливає флаг `m` на інші аспекти регулярного виразу?

- **Відповідь**: Ні, він впливає лише на поведінку якорів `^` і `$`.
  ```javascript
  console.log("a\nb".match(/./m)); // ["a", "\n", "b"] (аналогічно без `m`)
  ```

### Як знайти всі рядки, що починаються з літери?

- **Відповідь**: Використовуйте `^[a-zA-Z]` із флагом `m`.
  ```javascript
  console.log("apple\n123\nbanana".match(/^[a-zA-Z]/m)); // ["a", "b"]
  ```

## Поради

- **Перевірка тексту**: Переконайтеся, що строка містить переноси рядків (`\n`), інакше флаг `m` не матиме ефекту.
- **Тестування**: Використовуйте regex101.com із увімкненим флагом `m` для перевірки.
- **Комбінація флагів**: Поєднуйте `m` із `g` для глобального пошуку по рядках.
- **Обережність**: Уникайте використання `m`, якщо потрібно зіставити лише початок/кінець усієї строки.

## Додаткові деталі

- **Переноси рядків**: Флаг `m` працює з `\n` як роздільником рядків. Інші роздільники (наприклад, `\r\n`) також підтримуються.
- **Сумісність**: Повна підтримка у всіх сучасних браузерах.
- **Обмеження**: Флаг `m` не впливає на інші якорі, такі як `\b`.